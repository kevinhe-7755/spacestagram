var E=Object.defineProperty,j=Object.defineProperties;var D=Object.getOwnPropertyDescriptors;var f=Object.getOwnPropertySymbols;var _=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable;var x=(e,t,s)=>t in e?E(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,u=(e,t)=>{for(var s in t||(t={}))_.call(t,s)&&x(e,s,t[s]);if(f)for(var s of f(t))C.call(t,s)&&x(e,s,t[s]);return e},p=(e,t)=>j(e,D(t));var w=(e,t)=>{var s={};for(var n in e)_.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&f)for(var n of f(e))t.indexOf(n)<0&&C.call(e,n)&&(s[n]=e[n]);return s};import{j as r,M as H,V as U,r as l,a as h,B as W,b as L,c as $,R as T,d as q,C as z,S as Y,e as G,f as M,T as K,g as V,P as Z,F as X,h as J,A as Q,i as ee}from"./vendor.9f510a90.js";const te=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function s(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerpolicy&&(a.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?a.credentials="include":o.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(o){if(o.ep)return;o.ep=!0;const a=s(o);fetch(o.href,a)}};te();const re=({liked:e})=>e?r("svg",{className:"heart__solid","aria-hidden":"true",focusable:"false",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:r("path",{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"})}):r("svg",{className:"heart__regular","aria-hidden":"true",focusable:"false",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:r("path",{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"})}),se=({title:e,liked:t,explanation:s,media_type:n,url:o,onLike:a,thumbnail_url:i})=>r(H,{title:e,primaryAction:{content:t?"Unlike":"Like",onAction:()=>a(),icon:()=>r(re,{liked:t})},description:s,portrait:!0,children:n==="image"?r("img",{alt:s,title:e,width:"100%",height:"100%",style:{objectFit:"cover",objectPosition:"center"},src:o}):r(U,{thumbnailUrl:i||"",onClick:()=>window.open(o)})}),ne=({title:e,subtitle:t,showSubtitle:s=!0})=>{const n=l.exports.useContext(O);return h("div",{className:"topbar",children:[h("div",{className:"topbar__header",children:[r("p",{className:"topbar__title",children:e}),r("p",{className:`topbar__subtitle${s?"":"__hidden"}`,children:t})]}),r("div",{className:"topbar__theme",children:h(W,{segmented:!0,children:[r(L,{pressed:n.scheme==="light",onClick:()=>n.switchColorScheme("light"),children:"Light"}),r(L,{pressed:n.scheme==="dark",onClick:()=>n.switchColorScheme("dark"),children:"Dark"})]})})]})},oe={className:"masonry",elementType:"ul",options:{itemSelector:".masonry__item",columnWidth:".masonry__item"}},ae=s=>{var n=s,{children:e}=n,t=w(n,["children"]);const o=u(u({},oe),t);return r($,p(u({},o),{children:e}))},N=(e,t)=>s=>T.createElement(e,{className:"masonry__item"},r(t,u({},s))),ie=({height:e=q(600,1e3)})=>r("div",{className:"skeletonCard__wrapper",style:{height:e},children:h(z,{children:[r(Y,{}),r(G,{}),r(M,{}),r(M,{})]})}),ce=l.exports.memo(ie),O=l.exports.createContext({switchColorScheme:e=>{},scheme:""}),le=n=>{var o=n,{theme:e,children:t}=o,s=w(o,["theme","children"]);const a=(e==null?void 0:e.colorScheme)==="light"?"light":"dark",[i,y]=l.exports.useState(a),b=l.exports.useMemo(()=>({switchColorScheme:()=>y(S=>S==="light"?"dark":"light"),scheme:i}),[i]);return r(O.Provider,{value:b,children:r(K,p(u({theme:p(u({},e),{colorScheme:i})},s),{children:t}))})},de=(e,t)=>{const s=l.exports.useRef(!1),n=a=>{s.current||requestAnimationFrame(i=>{t(i,a),s.current=!1}),s.current=!0},o=a=>{const i=e(a);n(i)};l.exports.useEffect(()=>(window.addEventListener("scroll",o),()=>window.removeEventListener("scroll",o)),[])};var me="/spacestagram/assets/banner.46d506b5.jpg";const ue=N("li",se),he=N("li",ce);function pe(){const[e,t]=l.exports.useState([]),[s,n]=l.exports.useState(!1),[o,a]=l.exports.useState(""),[i,y]=l.exports.useState(1),[b,S]=l.exports.useState(!1),g=l.exports.useRef(null);l.exports.useEffect(()=>{(async()=>{n(!0);const d=await I();setTimeout(()=>{t([...e,...d]),n(!1)},2e3)})()},[]),de(P,(d,c)=>{if(c){const{bannerOutPercentage:m,bannerHeight:k}=c;a(`translateY(${m*.4*k}px) scale(${m>.2?-.5*m+1.1:1})`),y(m>.6?-2.5*m+2.5:1),S(m>.8)}});const I=async()=>{const{data:d}=await V.get("https://api.nasa.gov/planetary/apod?api_key=aZs7Z89YLKa1NydBXLjI9DmfbMRwtCLaGTUuDO9O&count=30&thumbs=true");return d.map(m=>p(u({},m),{liked:!1}))};function P(d){var m;const c=(m=g==null?void 0:g.current)==null?void 0:m.getBoundingClientRect();if(c){const{bottom:k,height:v}=c;return{bannerOutPercentage:1-(k-70)/v,bannerHeight:v}}}const A=d=>{const c=[...e];c[d].liked=!c[d].liked,t(c)},B=r(ne,{title:"spacestagram",subtitle:"Image-sharing From The Final Frontier",showSubtitle:b}),F=h("div",{ref:g,className:"banner",children:[r("h1",{style:{transform:o,opacity:i},children:"Image-sharing From The Final Frontier"}),r("img",{src:me,alt:"A starring universe"})]}),R=r("div",{className:"page__wrapper",children:r(Z,{title:"Astronomy Picture of the Day",children:h(ae,{children:[e.map((d,c)=>r(ue,p(u({},d),{onLike:()=>A(c)}),c)),s&&Array(10).fill(null).map((d,c)=>r(he,{},c))]})})});return h(X,{topBar:B,children:[F,R]})}J.render(r(T.StrictMode,{children:r(Q,{i18n:ee,children:r(le,{theme:{colorScheme:"light"},children:r(pe,{})})})}),document.getElementById("root"));
